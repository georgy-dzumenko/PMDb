(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{21:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),i=n(22),s=n.n(i),r=(n(29),n(8)),o=(n(30),n(21),n(0)),l=n(16),j=function(e){var t=e.text,n=Object(c.useState)(!1),a=Object(r.a)(n,2),i=a[0],s=a[1];return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:l("navigation__dropdown",{"navigation__dropdown--active":i}),onClick:function(){return s(!i)},onMouseLeave:function(){return s(!1)},children:[Object(o.jsx)("div",{className:"navigation__link-text",children:t}),Object(o.jsxs)("div",{className:l("navigation__dropdown-options-block",{"navigation__dropdown-options-block--active":!i}),children:[Object(o.jsx)("div",{className:"navigation__dropdown-option",children:Object(o.jsx)("div",{className:"navigation__link-text",children:"aasfadfsdfsa"})}),Object(o.jsx)("div",{className:"navigation__dropdown-option",children:Object(o.jsx)("div",{className:"navigation__link-text",children:"aasfadfsdfsa"})})]})]})})},u=n(10),d=n(11),b=n(17),h=n.n(b),m="https://api.themoviedb.org/3/",_="a1cacae9e097c731c0046cf30fa3b749",O=function(e){return fetch("".concat(m,"discover/movie?year=").concat(e,"&api_key=").concat(_)).then((function(e){return e.json()})).then((function(e){return e.results}))},v=n(16),x=function(){var e=Object(c.useState)(!1),t=Object(r.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)([]),s=Object(r.a)(i,2),l=s[0],j=s[1],b=Object(c.useState)(""),O=Object(r.a)(b,2),x=O[0],f=O[1],g=Object(c.useRef)(null),p=Object(c.useCallback)(h()((function(e){(function(e){return fetch("".concat(m,"search/movie?query=").concat(e,"&api_key=").concat(_)).then((function(e){return e.json()})).then((function(e){return e.results}))})(e).then((function(e){return j((e||[]).slice(0,7))}))}),500),[]);return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"navigation__search",children:[Object(o.jsx)("input",{ref:g,value:x,onChange:function(e){f(e.target.value),p(e.target.value),console.log("a")},onBlur:function(){return a(!1)},className:v("navigation__search-input",{"navigation__search-input--active":n})}),Object(o.jsx)("div",{onClick:function(){!1===n?(a(!0),g.current.focus()):a(!1)},className:v("navigation__search-icon",{"navigation__search-icon--active":n}),children:Object(o.jsx)(u.a,{icon:d.d})}),Object(o.jsx)("ul",{className:v("navigation__search-results-block",{"navigation__search-results-block--active":x&&n}),children:Object(o.jsxs)(o.Fragment,{children:[l.map((function(e){return Object(o.jsxs)("li",{className:"navigation__search-result",children:[Object(o.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(e.poster_path),alt:"",className:"navigation__search-result-img"}),Object(o.jsx)("h2",{className:"navigation__search-result-title",children:e.title})]},e.id)})),l.length>0?Object(o.jsx)("li",{className:"navigation__search-more-results",children:"more results..."},"end"):Object(o.jsx)("li",{className:"navigation__search-no-results",children:"no results"},"end")]})})]})})},f=n(13),g=n(9),p=function(){return Object(o.jsx)("div",{className:"navigation",children:Object(o.jsxs)("div",{className:"navigation__content",children:[Object(o.jsx)(f.a,{scroll:function(e){return e.scrollIntoView()},className:"navigation__menu",to:"#menu",children:Object(o.jsx)(u.a,{icon:d.a})}),Object(o.jsx)(g.b,{to:"/",className:"navigation__logo",children:"PMDb"}),Object(o.jsxs)("div",{className:"navigation__main",children:[Object(o.jsx)(j,{text:"film catalogue"}),Object(o.jsx)("a",{href:"#",className:"navigation__link",children:Object(o.jsx)("div",{className:"navigation__link-text",children:"watchlist"})}),Object(o.jsx)(g.b,{to:"/info",className:"navigation__link",children:Object(o.jsx)("div",{className:"navigation__link-text",children:"Info"})})]}),Object(o.jsx)(x,{})]})})},N=n(3),k=n(16),w=function(){var e=Object(N.e)();return Object(o.jsxs)("div",{id:"menu",className:k("menu",{"menu--active":"#menu"===e.hash}),children:[Object(o.jsx)("div",{className:"navigation",children:Object(o.jsx)("div",{className:"container",children:Object(o.jsx)("div",{className:"navigation__content",children:Object(o.jsx)(f.a,{smooth:!0,to:"#",className:"menu__close-button",children:Object(o.jsx)(u.a,{icon:d.b})})})})}),Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)("h1",{className:"menu__title",children:"Menu"}),Object(o.jsxs)("ul",{className:"menu__main",children:[Object(o.jsx)("li",{className:"menu__main-item",children:Object(o.jsx)(f.a,{className:"menu__link",to:"/",children:"home"})}),Object(o.jsx)("li",{className:"menu__main-item",children:Object(o.jsx)(f.a,{className:"menu__link",to:"/info",children:"info"})}),Object(o.jsx)("li",{className:"menu__main-item",children:Object(o.jsx)("a",{className:"menu__link",href:"#info",children:"adsadfs"})})]})]})]})},C=function(){return Object(o.jsx)("div",{className:"info page",children:Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)("div",{className:"info__param",children:[Object(o.jsx)("h1",{className:"info__title",children:"API:"}),Object(o.jsx)("a",{href:"https://www.themoviedb.org/",children:Object(o.jsx)("div",{className:"info__api"})})]})})})},S=n(16),y=function(){var e,t,n=Object(c.useState)([]),a=Object(r.a)(n,2),i=a[0],s=a[1],l=Object(c.useState)(!1),j=Object(r.a)(l,2),b=j[0],m=j[1],_=Object(c.useState)(0),v=Object(r.a)(_,2),x=v[0],f=v[1],g=new Image(1180,590);g.src="https://image.tmdb.org/t/p/original/".concat(null===(e=i[x])||void 0===e?void 0:e.backdrop_path),g.onload=function(){return setTimeout((function(){return m(!0)}),1e3)},g.onloadstart=function(){return m(!1)};var p=function(){x!==i.length-1?f(x+1):f(0)},N=Object(c.useCallback)(h()(p,1e4),[x]);return Object(c.useEffect)((function(){O(2021).then((function(e){return s(e||[{}])}))}),[]),Object(c.useEffect)((function(){return N(),N.cancel}),[x]),Object(o.jsx)("div",{className:"page home",children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)("h1",{className:"page__title",children:"Home"}),Object(o.jsxs)("div",{className:"poster",children:[Object(o.jsx)("div",{onClick:function(){f(0!==x?x-1:i.length-1)},className:"poster__arrow poster__arrow--left",children:Object(o.jsx)(u.a,{icon:d.b})}),Object(o.jsx)("img",{src:g.src,className:S("poster__img",{"poster__img--active":b})}),Object(o.jsx)("h1",{className:"poster__title",children:null===(t=i[x])||void 0===t?void 0:t.title}),Object(o.jsx)("div",{className:S("poster__timer",{})}),Object(o.jsx)("div",{onClick:p,className:"poster__arrow poster__arrow--right",children:Object(o.jsx)(u.a,{icon:d.c})})]})]})})};var F=function(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),n=(t[0],t[1]);return Object(c.useEffect)((function(){O("2021").then((function(e){return n(e)}))}),[]),Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(p,{}),Object(o.jsx)(N.a,{path:"/",exact:!0,children:Object(o.jsx)(y,{})}),Object(o.jsx)(N.a,{path:"/info",children:Object(o.jsx)(C,{})}),Object(o.jsx)(w,{})]})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,43)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),i(e),s(e)}))};s.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(g.a,{children:Object(o.jsx)(F,{})})}),document.getElementById("root")),I()}},[[42,1,2]]]);
//# sourceMappingURL=main.1b662822.chunk.js.map